<!DOCTYPE html><html class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/blog.css"><title>Lorefnon | Blog | Effectively working with csv files in neovim</title><meta property="og:title" content="Lorefnon | Blog | Effectively working with csv files in neovim"><meta property="og:description" content="Ramblings on Web Development and software architecture"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="icon" href="/images/favicon/favicon.ico"><script data-goatcounter="https://analytics.lorefnon.com/count" async src="https://analytics.lorefnon.com/count.js"></script><script src="https://unpkg.com/htmx.org@1.7.0/dist/htmx.min.js" defer></script><script src="https://unpkg.com/dompurify@2.3.6/dist/purify.min.js" defer></script><script src="/js/blog.js" defer></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Icicles of Thought" type="application/atom+xml">
</head><body class="blog-body" hx-boost="true"><div class="blog-summary"><a class="primary-link" href="/" hx-boost="false"><h1 class="header-text">Gaurab Paul</h1><h2 class="header-text">Polyglot software developer &amp; consultant passionate about web development, distributed systems and open source technologies</h2></a><div class="blog-support"><div class="blog-support-cta-container"><a class="blog-support-btn" href="https://ko-fi.com/lorefnon" target="_blank" title="Support my work"></a></div></div></div><div class="blog-sidebar"><div class="blog-support"><div class="blog-support-cta-container"><a class="blog-support-btn" href="https://ko-fi.com/lorefnon" target="_blank" title="Support my work"></a><div class="blog-support-arrow"></div><p class="support-text body-text">Support my blog and open-source work</p></div></div><h1 class="header-text">Tags</h1><ul class="tag-list"><li class="body-text"><a class="tag-link" href="/tags/vim/"><img src="/images/tag.svg">vim</a></li><li class="body-text"><a class="tag-link" href="/tags/csv/"><img src="/images/tag.svg">csv</a></li></ul></div><div class="blog-header blog-post-header"><div class="blog-post-header-inner"><div class="header-text">Effectively working with csv files in neovim</div><div class="posted-date sub-header-text" title="2024-01-17">Posted &nbsp;21 days ago</div><hr class="blog-header-separator"></div></div><div class="blog-main"><div class="page-content"><p>I have been looking for ways to effectively make quick edits to CSV files in (neo)vim without needing to fire up another gui.</p>
<p>This post outlines the quick setup that I have found to be effective. </p>
<h2 id="Rainbow-CSV-plugin"><a href="#Rainbow-CSV-plugin" class="headerlink" title="Rainbow CSV plugin"></a><a href="https://github.com/cameron-wags/rainbow_csv.nvim" target="_blank" rel="noopener external nofollow noreferrer">Rainbow CSV plugin</a></h2><p>Rainbow CSV is a nice plugin (available for many editors) which colors the csv in a different color for each column. This makes it easy to distinguish between values in different columns.</p>
<p>Here is what this looks like editing an example file: </p>
<p><img src="/images/rainbow-csv-1.png" alt="Colored csv files" loading="lazy"></p>
<p>Another convenient feature is <code>:RainbowAlign</code> which vertically aligns the columns.</p>
<p><img src="/images/rainbow-csv-2.png" alt="Colored vertically aligned csv files" loading="lazy"></p>
<p>Be careful that this is actually adding spaces in the file contents, so anything that consumes your csv will likely need to trim the cell contents.</p>
<p>Its also super convenient that as we move about in the csv, the footer shows the column we are currently at:</p>
<p><img src="/images/rainbow-csv-5.png" alt="Status footer" loading="lazy"></p>
<p>The plugin also supports an inbuilt query language but for anything more complex than basic search, I find myself reaching to SQLite which makes it really easy to <a href="https://www.sqlitetutorial.net/sqlite-import-csv/" target="_blank" rel="noopener external nofollow noreferrer">import csv files</a> into a table.</p>
<h2 id="Frozen-headers"><a href="#Frozen-headers" class="headerlink" title="Frozen headers"></a>Frozen headers</h2><p>If you want a slightly more spreadsheet like feel with the header frozen on top, we can achieve that using core vim features.</p>
<p>We can use <code>:sp</code> to horizontally split the screen into two windows, and then use <code>Ctrl+w 1 _</code> to resize the top one to show single row.</p>
<p>After that we can <code>:set scrollopt=hor</code> to configure scroll binding behavior to horizontal sync and after that <code>:set scrollbind</code> in both windows will ensure that as we move about in the primary window the headers stay in sync.</p>
<p><img src="/images/rainbow-csv-3.png" alt="split screen with headers" loading="lazy"></p>
</div><div class="post-comments"><!-- .comments-target--></div><div class="post-comments" style="margin-top: 10px;"><div id="remark42"></div></div></div><div class="blog-footer body-text"><p class="copyright-container"><strong>Â© 2022 Gaurab Paul</strong></p><p>Unless otherwise mentioned in specific contexts, all code is licensed under the The MIT License and all content and artwork is licensed under CC BY-NC-SA.</p><p>The opinions expressed herein are author's personal viewpoints and may not be taken as professional recommendations from any of his previous or current employers.</p></div></body></html>