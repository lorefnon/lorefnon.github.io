{
    "version": "https://jsonfeed.org/version/1",
    "title": "Icicles of Thought • All posts by \"react\" tag",
    "description": "",
    "home_page_url": "https://lorefnon.me",
    "items": [
        {
            "id": "https://lorefnon.me/2020/04/17/hash-based-routing-with-react-navi/",
            "url": "https://lorefnon.me/2020/04/17/hash-based-routing-with-react-navi/",
            "title": "Hash based routing with react-navi",
            "date_published": "2020-04-17T00:00:00.000Z",
            "content_html": "<link rel=\"stylesheet\" href=\"/css/crayon.min.css\" >\n<link rel=\"stylesheet\" href=\"/css/crayon-flatui-light.css\" >\n\n\n\n\t<p><a class=\"wp-editor-md-post-content-link\" href=\"https://frontarm.com/navi/\">Navi</a> is an simple and easy-to-use routing solution for React with good support for <a class=\"wp-editor-md-post-content-link\" href=\"https://reactjs.org/docs/concurrent-mode-suspense.html\">suspense</a> and asynchronous data-fetching.</p>\n<p>I generally prefer hash-based routing over push state based routing because it doesn’t require any special handling on the server side and works well even with file urls &amp; electron apps. Also, working mostly with intranet applications, SEO is generally not a concern for me.</p>\n<p><span id=\"more-687\"></span></p>\n<p>Thanks to the underlying history library, it is relatively straightforward to use hash-routing with react-navi:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44573abf6514361846\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44573abf6514361846-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573abf6514361846-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573abf6514361846-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573abf6514361846-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573abf6514361846-5\">5</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44573abf6514361846-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573abf6514361846-2\"><span class=\"crayon-e\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">createHashHistory</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'history'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573abf6514361846-3\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573abf6514361846-4\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">history</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">createHashHistory</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573abf6514361846-5\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0025 seconds] -->\n<p></p>\n<p>As the <a class=\"wp-editor-md-post-content-link\" href=\"https://frontarm.com/navi/en/#try-a-live-example\">example</a> in the home page illustrates, we can pass our routes to the <code>mount</code> function:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44573ac0a238133453\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac0a238133453-13\">13</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-2\"><span class=\"crayon-e\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">mount</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'navi'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-3\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-4\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">routes</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">mount</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'/'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">route</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">title</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Hats 'n' Flamethrowers 'r' Us\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">getData</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">api</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">fetchProducts</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">view</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Landing</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'/product'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lazy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">import</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'./product'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac0a238133453-13\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0020 seconds] -->\n<p></p>\n<p>However instead of passing these routes directly to the <code>&lt;Router&gt;</code> component, we’d need to create a navigation that is configured to use our hash-based history.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44573ac11804906234\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac11804906234-8\">8</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-2\"><span class=\"crayon-e\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">createBrowserNavigation</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'navi'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-3\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-4\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">navigation</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">createBrowserNavigation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">history</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-i\">routes</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-7\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac11804906234-8\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0007 seconds] -->\n<p></p>\n<p>And then we can render the Router with this navigation:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44573ac17552680781\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-13\">13</div><div class=\"crayon-num\" data-line=\"crayon-5fba44573ac17552680781-14\">14</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-2\"><span class=\"crayon-e\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Router</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">View</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'react-navi'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-3\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-4\"><span class=\"crayon-v\">ReactDOM</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">render</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">Router </span><span class=\"crayon-v\">navigation</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">navigation</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Layout</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">Suspense </span><span class=\"crayon-v\">fallback</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">View</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">/&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-9\"><span class=\"crayon-c\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/S</span><span class=\"crayon-v\">uspense</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Layout</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-11\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Router</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">document</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">getElementById</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'root'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-13\"><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5fba44573ac17552680781-14\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0016 seconds] -->\n<p></p>\n<p>That is pretty much all that’s needed</p>\n\n\n    ",
            "tags": [
                "React",
                "Routing"
            ]
        },
        {
            "id": "https://lorefnon.me/2018/06/02/exposing-slots-in-layout-containers-through-shared-refs-in-react/",
            "url": "https://lorefnon.me/2018/06/02/exposing-slots-in-layout-containers-through-shared-refs-in-react/",
            "title": "Exposing slots in layout containers through shared refs in React",
            "date_published": "2018-06-02T00:00:00.000Z",
            "content_html": "<link rel=\"stylesheet\" href=\"/css/crayon.min.css\" >\n<link rel=\"stylesheet\" href=\"/css/crayon-flatui-light.css\" >\n\n\n\n\t<p>React refs are generally considered an anti-pattern as their usage typically encourages patterns which go against declarative compositon and top down flow of data.</p>\n<p>This post explores a somewhat uncommon use case where refs can be used to expose layout slots in parent components to nested components.</p>\n<p><span id=\"more-242\"></span></p>\n<p>The newly introduced <a href=\"https://reactjs.org/docs/refs-and-the-dom.html#creating-refs\" target=\"_blank\">React.createRef</a> function makes it particularly convenient to create refs in parent components, and pass them down as props to other components.</p>\n<p>While building business applications, I find it convenient to create reusable layout container components (eg. Header + Top Menu + Sidebar) and share them across different LOB applications.</p>\n<p>While this is uncommon, I have occasionally encountered use cases which may benefit from a component being able to render sub-parts of itself “somewhere-else” in the layout structure, without the consumer of the component having to take care of rendering multiple components in different locations in the tree.</p>\n<p>For example, let us say we are creating a <code>DataTable</code> component. When we click on a row, we open a drawer and render a form inside for editing the item represented by the row. Later, we decide that we would also want the flexibility to show this form outside the component in a sidebar exposed by a layout container, if available.</p>\n<p>We could handle this by rendering the sidebar as a part of the <code>DataTable</code> component itself, but that is not suitable if the sidebar may contain other components too which are unrelated to our DataTable.</p>\n<p>We could also expose this drawer as a separate component, and both our <code>DataTable</code> component as well as the <code>RowDetailsForm</code> component could be connected to a shared store, and rendered in independent locations in the component hierarchy, but this obviously requires more work on the part of consumer, and requires us to expose our internal state management concerns to outside world.</p>\n<p>The third solution, which we discuss here, is to use shared refs.</p>\n<p>The consumer component can create a ref and share it with both the layout container component and the presenter component.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44a7a43ff960456084\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a43ff960456084-12\">12</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-2\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">App </span><span class=\"crayon-r\">extends</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">React</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">Component</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">sidebarRef</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">React</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">createRef</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">render</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">LayoutContainer </span><span class=\"crayon-v\">sidebarRef</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sidebarRef</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">Panel </span><span class=\"crayon-v\">slotRef</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sidebarRef</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">LayoutContainer</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-10\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-11\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a43ff960456084-12\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0034 seconds] -->\n<p></p>\n<p>Now, our container component can use this <code>sidebarRef</code> to designate a slot which can be populated by the nested presenter:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44a7a4411198396424\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-13\">13</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4411198396424-14\">14</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-2\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LayoutContainer </span><span class=\"crayon-r\">extends</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">React</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">Component</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">render</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-r\">ref</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sidebarRef</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">children</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-13\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4411198396424-14\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0015 seconds] -->\n<p></p>\n<p>And our presenter component can use this shared <code>sidebarRef</code> as a <code>Portal</code> target. Portal here is the <a href=\"https://react-bootstrap.github.io/react-overlays/#portals\" target=\"_blank\">Portal component</a> available from <a href=\"https://github.com/react-bootstrap/react-overlays\" target=\"_blank\">react-overlays</a> package, which is essentially a declarative wrapper over <a href=\"https://reactjs.org/docs/portals.html\" target=\"_blank\">ReactDOM.createPortal</a> API.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44a7a4432339310845\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-13\">13</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4432339310845-15\">15</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-2\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Panel </span><span class=\"crayon-r\">extends</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">React</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">Component</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">getSlot</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">slotRef</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">current</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">render</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Fragment</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Body </span><span class=\"crayon-v\">Content</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">Portal </span><span class=\"crayon-v\">container</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">getSlot</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-e\">Slot </span><span class=\"crayon-v\">Content</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Portal</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Fragment</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-14\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4432339310845-15\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0019 seconds] -->\n<p></p>\n<p>In case you are wondering how this works during initial render, before the sidebarRef.current is available, the <a href=\"https://github.com/react-bootstrap/react-overlays/blob/master/src/Portal.js\" target=\"_blank\">Portal component</a> implementation can be illuminating:</p>\n<p>Abbreviated source is below:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44a7a4439253066833\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-3\">3</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-5\">5</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-7\">7</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-9\">9</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-11\">11</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-13\">13</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-15\">15</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-17\">17</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-19\">19</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-21\">21</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-23\">23</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-25\">25</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-27\">27</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-29\">29</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-31\">31</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-33\">33</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-35\">35</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-37\">37</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-39\">39</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-41\">41</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-43\">43</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-45\">45</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-47\">47</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-49\">49</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-51\">51</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-53\">53</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4439253066833-55\">55</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-2\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Portal </span><span class=\"crayon-r\">extends</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">React</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">Component</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-3\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">componentWillMount</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">canUseDom</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-8\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">container</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">typeof</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">container</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'function'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">container</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">container</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-13\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">container</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">ReactDOM</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">findDOMNode</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// The container is a React component that has not yet been rendered.</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Don't set the container node yet.</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-19\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">setContainer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-21\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-22\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-23\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">componentDidMount</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_portalContainerNode</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">setContainer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">forceUpdate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">onRendered</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">onRendered</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">onRendered</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-30\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-31\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-32\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">componentWillReceiveProps</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nextProps</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nextProps</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">container</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!==</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">setContainer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nextProps</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-36\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-37\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-38\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">componentWillUnmount</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-39\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_portalContainerNode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-40\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-41\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-42\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">setContainer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-43\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_portalContainerNode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getContainer</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-44\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">container</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ownerDocument</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-45\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-46\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-47\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-48\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">render</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-49\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">children</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">_portalContainerNode</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-50\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">ReactDOM</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">createPortal</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">children</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_portalContainerNode</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-51\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-52\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-53\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-54\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4439253066833-55\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0057 seconds] -->\n<p></p>\n<p>The render safely handles the scenario when the target container is not available yet, and in <code>componentDidMount</code> lifecycle hook, once the target is available, we set <code>this._portalContainerNode</code> and trigger a re-render.</p>\n<p>This approach also makes it trivial to fallback to a local node if the consumer hasn’t supplied us with a <code>sidebarRef</code>.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-5fba44a7a4440605757798\" class=\"crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;\">\n\t\t\n\t\t\t<div class=\"crayon-plain-wrap\"></div>\n\t\t\t<div class=\"crayon-main\" style=\"\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums\" data-settings=\"hide\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 15px !important; line-height: 20px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4440605757798-1\">1</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4440605757798-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5fba44a7a4440605757798-3\">3</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5fba44a7a4440605757798-1\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4440605757798-2\"><span class=\"crayon-v\">getSlot</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">slotRef</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">current</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">props</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">localSlotRef</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">current</span></div><div class=\"crayon-line\" id=\"crayon-5fba44a7a4440605757798-3\">&nbsp;</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0008 seconds] -->\n<p></p>\n<p>Note that things like event bubbling will work identially in both scenarios even if the component is rendered out of the DOM hierarchy of parent. React’s synthetic event implementation is aware of portals and events are propagated through portal boundaries to parent components.</p>\n\n\n    ",
            "tags": [
                "React",
                "Frontend"
            ]
        },
        {
            "id": "https://lorefnon.me/2015/11/22/an-answer-to-react-is-the-new-java.html",
            "url": "https://lorefnon.me/2015/11/22/an-answer-to-react-is-the-new-java.html",
            "title": "An answer to \"React is the new Java\"",
            "date_published": "2015-11-21T18:30:00.000Z",
            "content_html": "<p>This post is essentially my attempt to answer some of the concerns presented in this <a href=\"https://news.ycombinator.com/item?id=10609159\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">opinion</a> posted in HN. The author has likened the success of React with the success of Java, exemplifying how time again, what (s)he identifies as worse technology, has been pushed to a higher popularity rather than more competent alternatives available.</p>\n<blockquote>\n<p>I have been learning new technologies pretty much continuously. It&#39;s not impossible, especially if you follow sites like Hacker News, to keep a finger on the direction of the industry, and then try to stay on top of the next new hot technology of the year.</p>\n</blockquote>\n<blockquote>\n<p>But I hear you on the &quot;worse&quot; technology sometimes winning. You mentioned Java; it was worse than just about all other major contenders, and is only finally losing popularity.</p>\n</blockquote>\n<blockquote>\n<p>On a current technology fad: React seems to be designed to ignore 40 years of accumulated software best practices. [1] Separation of concerns? Who needs that any more? And the rationale for it is that it allows teams of 100 developers work together on an app.</p>\n</blockquote>\n<h2 id=\"Separation-of-Concerns\"><a href=\"#Separation-of-Concerns\" class=\"headerlink\" title=\"Separation of Concerns ?\"></a>Separation of Concerns ?</h2><p>Well, separation on concerns is a good thing to have. But only when the concerns actually translate to different responsibilities and not when they are multiple facets of the same problem.</p>\n<p>The way I see it, managing an identifyable entity in the presentation layer is a singular concern. Breaking up this presentation entity into decoupled parts - a chunk of text based HTML template, a stylesheet to make this template visually appealing and associated javascript that alters the DOM structure depending on user interaction of change of application state, does not facilitate separation of concerns, it makes things less cohesive. <a href=\"http://thebojan.ninja/2015/04/08/high-cohesion-loose-coupling/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Loose coupling, High Cohesion</a> is a classic best practice, proven time again, and React does not ignore this, it accentuates its importance.</p>\n<p>Especially in web-applications the styling rules are intrinsically linked to the DOM structure of a widget and so is the javascript that is responsible for syncing the application state to and from the DOM. Multitude of javascript libraries have recognized this long before React including but not limited to widely popular libraries like <a href=\"http://knockoutjs.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Knockout</a>, <a href=\"https://dojotoolkit.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Dojo</a> and <a href=\"https://www.sencha.com/products/extjs/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ExtJS</a>.</p>\n<h2 id=\"Fads-are-not-born-from-thin-air\"><a href=\"#Fads-are-not-born-from-thin-air\" class=\"headerlink\" title=\"Fads are not born from thin air\"></a>Fads are not born from thin air</h2><p>Promotion of best practices like <a href=\"https://medium.com/@joshblack/stateless-components-in-react-0-14-f9798f8b992d#.h457qzmob\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Stateless components</a> and <a href=\"https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750#.6lh6otq97\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">composition of higher order components</a> goes a long way towards ensuring separation of concerns where they matter.</p>\n<p>The upcoming Web Component technology is fueled by the widespread need for true component oriented building blocks and popularity of frameworks like Google Polymer highlights it very well.</p>\n<h2 id=\"JSX-and-designer-languages\"><a href=\"#JSX-and-designer-languages\" class=\"headerlink\" title=\"JSX and designer languages\"></a>JSX and designer languages</h2><blockquote>\n<p>Open standards? Nah, how about lock-in to custom language extensions that will prevent you from migrating your code to the next web standard! Much better.</p>\n</blockquote>\n<p>JSX is a custom language extension alright but it is not mandatory for using React. It is <a href=\"http://jamesknelson.com/learn-raw-react-no-jsx-flux-es6-webpack/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">fairly easy</a> to use vanilla javascript and benefit from all the features of React. In fact it is also easy to use React with other AltJS languages like <a href=\"http://blog.vjeux.com/2013/javascript/react-coffeescript.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Coffeescript</a>, <a href=\"http://lorefnon.me/2015/09/21/react-and-livescript-in-harmony.html\">Livescript</a> and <a href=\"https://github.com/Asana/typed-react\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Typescript</a>.</p>\n<p>While I agree that without JSX, the code is much more verbose - there are solutions like <a href=\"https://github.com/mlmorg/react-hyperscript\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">React hyperscript</a> that let you express the DOM structure within javascript, or <a href=\"https://github.com/wix/react-templates\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">React Templates</a> and <a href=\"https://github.com/jadejs/react-jade\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">React Jade</a> which allow you to use external templates with React.</p>\n<p>Also there is a <a href=\"https://facebook.github.io/jsx/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">draft specification</a> for JSX in place and some other frameworks have already <a href=\"https://github.com/insin/msx\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">started</a> adopting it.</p>\n<h2 id=\"About-open-standards\"><a href=\"#About-open-standards\" class=\"headerlink\" title=\"About open standards\"></a>About open standards</h2><h3 id=\"Web-Components\"><a href=\"#Web-Components\" class=\"headerlink\" title=\"Web Components\"></a>Web Components</h3><p>The reasons for not using an open standard like web components have been <a href=\"https://github.com/facebook/react/issues/5052#issuecomment-145594782\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">explained</a> by the React team:</p>\n<blockquote>\n<p>It has turned out that the spec is incomplete with regard to things like event delegation and there are still major changes being pushed from various sides, such as Mozilla. What was in Polymer/Chrome is not the final incarnation so we&#39;ve had to revert some of the support that we already added (e.g. support for event handling in shadow trees).</p>\n</blockquote>\n<blockquote>\n<p>In terms of strategy, we&#39;ll go forward with as if it didn&#39;t exist and try to improve interop at the React or React-like component layer instead. I&#39;ve talked with members of other popular UI frameworks and they seem to feel the same. In fact, we probably have a better chance at implementing solid interop in user land.</p>\n</blockquote>\n<p>In fact there already exist some <a href=\"http://addyosmani.com/blog/component-interop-with-react-and-custom-elements/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">resources</a> for working with React and Web-components in same application.</p>\n<p>There is nothing preventing us from migrating to the next web standard. As others have pointed out in the thread, removing JSX is just a matter of running the transformer against the existing codebase and checking in the generated javascript. The output is still human readable.</p>\n<h3 id=\"XML-in-javascript\"><a href=\"#XML-in-javascript\" class=\"headerlink\" title=\"XML in javascript\"></a>XML in javascript</h3><p>Attempts towards seamless incorporation of XML in ecmascript is not a new idea. Actionscript has had that since ages. While E4X is an <a href=\"https://en.wikipedia.org/wiki/ECMAScript_for_XML\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">open standard</a>, pragmatic reasons have been <a href=\"http://blog.vjeux.com/2013/javascript/jsx-e4x-the-good-parts.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">put forward</a> by React team for not embracing it entirely:</p>\n<blockquote>\n<p>The major use case of XML within Javascript is to write HTML tags. Unfortunately, what E4X generates is not a DOM node. In order to use it to generate DOM nodes, you&#39;ve got to do a conversion phase not provided by default.</p>\n</blockquote>\n<blockquote>\n<p>The second use case of XML is to represent data. In Javascript world, this use case is already being fulfilled by JSON. E4X only supports strings as a data type where Javascript objects can contain numbers, booleans, functions ...</p>\n</blockquote>\n<blockquote>\n<p>All the code is not going to be converted to E4X right away. There&#39;s going to be a transition phase where E4X and non E4X code will have to co-exist. The fact that the objects E4X generates are not accessible from non E4X code means that none of the libraries ever written can work with E4X structures.</p>\n</blockquote>\n<h2 id=\"On-meritocracy-vs-mediocracy\"><a href=\"#On-meritocracy-vs-mediocracy\" class=\"headerlink\" title=\"On meritocracy vs mediocracy\"></a>On meritocracy vs mediocracy</h2><blockquote>\n<p>And how many app teams have 100 or more active developers? Probably fewer than a dozen, and I submit that none of them probably should. Certainly not the Facebook app: It has a lot of features, but not that many features, and yet it has a 150Mb footprint.</p>\n</blockquote>\n<blockquote>\n<p>When I hear things like that, I can&#39;t help but fill in &quot;junior&quot; or &quot;mediocre&quot; in front of &quot;developers.&quot; React helps to prevent people from breaking each others&#39; code when you have bloated development teams filled with junior developers. React has some cool ideas, but all told I think it&#39;s a step backward for software engineering, and certainly isn&#39;t as much of a help for small teams, especially if you want to have a CSS/SCSS/LESS expert styling your product without having to dig through JSX files, for instance.</p>\n</blockquote>\n<p>In a small app with a small team, there is little use for any framework at all, but software applications have this uncanny tendency to unexpectedly grow large depending on changing requirements, expanding scope. Given the above, I would certainly feel more comfortable working on a system where I can change the appearance of a component with confidence that will not introduce subtle changes in totally unrelated parts of my application, probably parts that I know nothing about.</p>\n<p>While yes, there are fewer teams that have 100 or more active developers, but high churn rates are an unavoidable problem especially in the startup ecosystems. While a competent developer will certainly be able to jump into an unknown codebase and in due time figure out his/her way - but if the codebase is structured around best practices distilled by the community the time required in the same is drastically reduced. Optimizing the process around that seems like a very good idea.</p>\n<h2 id=\"On-stylesheets-a-system-of-cascading-problems\"><a href=\"#On-stylesheets-a-system-of-cascading-problems\" class=\"headerlink\" title=\"On stylesheets - a system of cascading problems\"></a>On stylesheets - a system of cascading problems</h2><p>Adding to the problem is that automated regression testing of CSS is time consuming and error prone. While there are <a href=\"https://css-tricks.com/automating-css-regression-testing/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">solutions</a> I think the crux of the problem is that our current styling system is a broken technology - globally shared stylesheets are evil and technologies like <a href=\"https://github.com/FormidableLabs/radium\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Radium</a> are steps in the right direction.</p>\n<p>While it isn&#39;t like we have not tried to solve this problem <a href=\"https://gridstylesheets.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">before</a>, I am really glad to see practical alternatives to stylesheets gathering traction.</p>\n<h2 id=\"The-good-parts\"><a href=\"#The-good-parts\" class=\"headerlink\" title=\"The good parts\"></a>The good parts</h2><blockquote>\n<p>I do like React&#39;s idea of the Virtual DOM for optimization, but you can get that without using React. [2] React Native is great for using native components and driving them from JavaScript, but it&#39;s also not the only game in town. [3]</p>\n</blockquote>\n<p>I agree, much has been written about these benefits, and the availability of alternatives is not exactly a secret either. I don&#39;t have much to add.</p>\n<h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><blockquote>\n<p>Back to the original point, though: You can stay on top of the Hot New Technologies, but when there are good technical reasons to use alternate technologies, stay on top of those as well. And then explain clearly to your clients (or employers) why the current fad is a fad, and how to get the key benefits of that stack without its drawbacks. Oh, and choose clients (or employers) who will listen to strong technical arguments. :)</p>\n</blockquote>\n<p>While I disagree with the primary premise, this is a very strong and sound advise. I whole-heartedly agree that solutions should be rationally vetted and benchmarked before being put to use. I hope that arguments I have presented above are perceived as rationally just. Any comments or suggestions are more than welcome.</p>\n",
            "tags": [
                "Javascript",
                "React"
            ]
        },
        {
            "id": "https://lorefnon.me/2015/09/21/react-and-livescript-in-harmony.html",
            "url": "https://lorefnon.me/2015/09/21/react-and-livescript-in-harmony.html",
            "title": "React and Livescript in harmony",
            "date_published": "2015-09-20T18:30:00.000Z",
            "content_html": "<h1 id=\"Overview\"><a href=\"#Overview\" class=\"headerlink\" title=\"Overview\"></a>Overview</h1><p><a href=\"http://livescript.net/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Livescript</a> is a programming language that compiles to readable javascript (similar to coffeescript) and provides language level facilities to <a href=\"http://livescript.net/#inspiration\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">encourage</a> functional programming. <a href=\"https://facebook.github.io/react/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">React.js</a> is a user interface library from <a href=\"https://facebook.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">facebook</a> that uses <a href=\"http://calendar.perfplanet.com/2013/diff/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">intelligent heuristics</a> for efficient DOM updates, simplifying the process of building data driven applications. This post outlines how the two can play well together, and tries to demostrate how livescript allows us write much more compact and succinct code. Basic familiarity with both of them is assumed.</p>\n<p>To begin with let us see what a basic component looks like:</p>\n<pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&#x27;application-container&#x27;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span></code></pre>\n<br>\n\n<pre><code class=\"hljs livescript\">ContactList = React.create-<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">do</span></span>\n  render: -&gt;\n    React.create-element <span class=\"hljs-string\">\\ul,</span> <span class=\"hljs-literal\">null</span>, @props.contacts.<span class=\"hljs-keyword\">map</span> <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n      React.create-element <span class=\"hljs-string\">\\li,</span> <span class=\"hljs-literal\">null</span>, contact.name\n\nel = React.create-element ContactList, contacts: [\n  * name: <span class=\"hljs-string\">&#x27;Harry Potter&#x27;</span>\n  * name: <span class=\"hljs-string\">&#x27;Albus Dumbledore&#x27;</span>\n]\n\nReact.render el, <span class=\"hljs-built_in\">document</span>.get-element-<span class=\"hljs-keyword\">by</span>-id <span class=\"hljs-string\">\\application-container</span></code></pre>\n<img src=\"/images/Screen Shot 2015-09-21 at 12.42.18 pm.png\">\n\n<p>This is very similar to what we would have written if we were using vanilla javascript. The only primary advantages are indentation based nesting, elimination of a lot of superfluous syntax - braces and parenthesis and implicit returns. However we can do much better than this.</p>\n<p>Because Livescript was forked from Coffeescript, it inherits Coffeescript&#39;s class syntax which we can use to extend <code>React.Component</code>. However the benefits of doing so are pretty-much marginal.</p>\n<pre><code class=\"hljs livescript\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ContactList</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span></span>\n\n  render: -&gt;\n    React.create-element <span class=\"hljs-string\">\\ul,</span> <span class=\"hljs-literal\">null</span>, @props.contacts.<span class=\"hljs-keyword\">map</span> <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n      React.create-element <span class=\"hljs-string\">\\li,</span> <span class=\"hljs-literal\">null</span>, contact.name</code></pre>\n<p>One thing that we may notice is that the above code does not use <a href=\"https://facebook.github.io/react/docs/jsx-in-depth.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">JSX</a>. While yes, it is <a href=\"https://github.com/facebook/react/issues/47#issuecomment-18877423\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">possible</a> to use JSX with livescript using backticks to escape xml constructs and then passing the generated js to babel, it is a hack we better forgo. As we will see soon, livescript native constructs allow for much more succinct expressions than the xml boilerplate that comes JSX.</p>\n<p>Livescript&#39;s feature that almost everything is a expression is particularly helpful when we have conditional logic in our dom generation code.</p>\n<pre><code class=\"hljs livescript\">element = React~create-element\n\nContactList = React.create-<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">do</span></span>\n\n  render: -&gt;\n    element <span class=\"hljs-string\">\\ul,</span> <span class=\"hljs-literal\">null</span>, @props.contacts.<span class=\"hljs-keyword\">map</span> <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n      element <span class=\"hljs-string\">\\li,</span> <span class=\"hljs-literal\">null</span>,\n        <span class=\"hljs-keyword\">if</span> contact.email\n          element <span class=\"hljs-string\">\\a,</span> href: <span class=\"hljs-string\">&quot;mailto:<span class=\"hljs-subst\">#&#123;contact.email&#125;</span>&quot;</span>, contact.name\n        <span class=\"hljs-keyword\">else</span>\n          contact.name\n\nel = element ContactList, contacts: [\n  * name: <span class=\"hljs-string\">&#x27;Harry Potter&#x27;</span>\n  * name: <span class=\"hljs-string\">&#x27;Albus Dumbledore&#x27;</span>\n    email: <span class=\"hljs-string\">&#x27;albus@hogwarts.magic&#x27;</span>\n]\n\nReact.render el, <span class=\"hljs-built_in\">document</span>.get-element-<span class=\"hljs-keyword\">by</span>-id <span class=\"hljs-string\">\\application-container</span></code></pre>\n<img src=\"/images/Screen Shot 2015-09-21 at 12.42.05 pm.png\">\n\n<p>When the render function becomes complex, it is often more readable to use livescript&#39;s pipe operator to chain the operations. This is particularly handy in conjugation with utility libraries geared towards functional programming - the example below uses <a href=\"http://ramdajs.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Ramda</a>. Other alternatives include <a href=\"http://underscorejs.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">underscore</a>, <a href=\"https://lodash.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">lodash</a>, <a href=\"http://www.preludels.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">prelude.ls</a> etc.</p>\n<pre><code class=\"hljs livescript\">element = React~create-element\n\nContactList = React.create-<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">do</span></span>\n\n  render-avatar: <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n    <span class=\"hljs-keyword\">if</span> contact.avatar\n    <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\img,</span> src: contact.avatar, height: <span class=\"hljs-number\">100</span>, width: <span class=\"hljs-number\">100</span>\n    <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;N/A&#x27;</span>\n\n  render-label: <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n    <span class=\"hljs-keyword\">if</span> contact.email\n    <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\a,</span> href: <span class=\"hljs-string\">&quot;mailto:<span class=\"hljs-subst\">#&#123;contact.email&#125;</span>&quot;</span>, contact.name\n    <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, contact.name\n\n  render-contact-row: <span class=\"hljs-function\"><span class=\"hljs-params\">(contact)</span>-&gt;</span>\n    element <span class=\"hljs-string\">\\tr,</span> key: contact.id, [\n      element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, @render-avatar contact\n      element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, @render-label contact\n    ]\n\n  render-head: -&gt;\n    element <span class=\"hljs-string\">\\thead,</span> <span class=\"hljs-literal\">null</span>, [\n      element <span class=\"hljs-string\">\\tr,</span> <span class=\"hljs-literal\">null</span>, [\n        element <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;Avatar&#x27;</span>\n        element <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;Name&#x27;</span>\n      ]\n    ]\n\n  render: -&gt;\n    @props.contacts\n    |&gt; R.<span class=\"hljs-keyword\">map</span> @~render-contact-row\n    |&gt; <span class=\"hljs-function\">~&gt;</span> element <span class=\"hljs-string\">\\tbody,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-literal\">it</span>\n    |&gt; ~&gt; element \\table, class-name: \\contacts , [ @render-head!, it ]\n\nel = element ContactList, contacts: [\n  * id: <span class=\"hljs-number\">1</span>\n    name: <span class=\"hljs-string\">&#x27;Harry Potter&#x27;</span>\n    avatar: <span class=\"hljs-string\">&#x27;http://cdn.playbuzz.com/cdn/8de88741-d729-4319-aa46-e8a544a20439/f7cade9d-8daf-42b3-8839-3e0e1f3db283.jpeg&#x27;</span>\n  * id: <span class=\"hljs-number\">2</span>,\n    name: <span class=\"hljs-string\">&#x27;Albus Dumbledore&#x27;</span>\n    email: <span class=\"hljs-string\">&#x27;albus@hogwarts.magic&#x27;</span>\n]\n\n\nReact.render el, <span class=\"hljs-built_in\">document</span>.get-element-<span class=\"hljs-keyword\">by</span>-id <span class=\"hljs-string\">\\application-container</span></code></pre>\n<img src=\"/images/Screen Shot 2015-09-21 at 2.15.15 pm.png\">\n\n<p>It may be tempting to further shorten the functions taking advantage of livescript&#39;s default argument <code>it</code>:</p>\n<pre><code class=\"hljs livescript\">render-avatar: -&gt;\n  <span class=\"hljs-keyword\">if</span> <span class=\"hljs-literal\">it</span>.avatar\n  <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\img,</span> src: <span class=\"hljs-literal\">it</span>.avatar, height: <span class=\"hljs-number\">100</span>, width: <span class=\"hljs-number\">100</span>\n  <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;N/A&#x27;</span>\n\nrender-label: -&gt;\n  <span class=\"hljs-keyword\">if</span> <span class=\"hljs-literal\">it</span>.email\n  <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\a,</span> href: <span class=\"hljs-string\">&quot;mailto:<span class=\"hljs-subst\">#&#123;<span class=\"hljs-literal\">it</span>.email&#125;</span>&quot;</span>, <span class=\"hljs-literal\">it</span>.name\n  <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-literal\">it</span>.name\n\nrender-contact-row: -&gt;\n  element <span class=\"hljs-string\">\\tr,</span> key: <span class=\"hljs-literal\">it</span>.id, [\n    element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, @render-avatar <span class=\"hljs-literal\">it</span>\n    element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, @render-label <span class=\"hljs-literal\">it</span>\n  ]</code></pre>\n<p>But I strongly recommend against doing that, because having the arguments specified in the function signature upfront enhances readability.</p>\n<p>Also note that the top down construction flow composition can also be realized in javascript using Ramda&#39;s <code>pipe</code> but livescript just makes it simpler by providing a language level operator.</p>\n<p>For simpler components (which are just responsible for presenting something passed as props, and do not need lifecycle methods etc.) it may be useful to define a micro-component builder:</p>\n<pre><code class=\"hljs livescript\"><span class=\"hljs-function\"><span class=\"hljs-title\">micro-component</span> = <span class=\"hljs-params\">(render)</span>-&gt;</span> React.create-factory React.create-<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> &#123; <span class=\"hljs-title\">render</span> &#125;</span></code></pre>\n<p>Once we have that, it makes it a lot more easier for us to follow React&#39;s recommendation of having lightweight modular components which can be easily composed:</p>\n<pre><code class=\"hljs livescript\">ContactAvatar = micro-component -&gt;\n  &#123; contact &#125; = @props\n  <span class=\"hljs-keyword\">if</span> contact.avatar\n  <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\img,</span> src: contact.avatar, height: <span class=\"hljs-number\">100</span>, width: <span class=\"hljs-number\">100</span>\n  <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;N/A&#x27;</span>\n\nContactLabel = micro-component -&gt;\n  &#123; contact &#125; = @props\n  <span class=\"hljs-keyword\">if</span> contact.email\n  <span class=\"hljs-keyword\">then</span> element <span class=\"hljs-string\">\\a,</span> href: <span class=\"hljs-string\">&quot;mailto:<span class=\"hljs-subst\">#&#123;contact.email&#125;</span>&quot;</span>, contact.name\n  <span class=\"hljs-keyword\">else</span> element <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-literal\">null</span>, contact.name\n\nContactListRow = micro-component -&gt;\n  element <span class=\"hljs-string\">\\tr,</span> key: @props.contact.id, [\n    element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, ContactAvatar @props\n    element <span class=\"hljs-string\">\\td,</span> <span class=\"hljs-literal\">null</span>, ContactLabel @props\n  ]\n\nContactList = micro-component -&gt;\n  element \\table, class-name: \\contacts, [\n    element <span class=\"hljs-string\">\\thead,</span> <span class=\"hljs-literal\">null</span>, [\n      element <span class=\"hljs-string\">\\tr,</span> <span class=\"hljs-literal\">null</span>, [\n        element <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;Avatar&#x27;</span>\n        element <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&#x27;Name&#x27;</span>\n      ]\n    ]\n    element <span class=\"hljs-string\">\\tbody,</span> <span class=\"hljs-literal\">null</span>, @props.contacts.<span class=\"hljs-keyword\">map</span> -&gt; ContactListRow <span class=\"hljs-keyword\">do</span>\n      contact: <span class=\"hljs-literal\">it</span>\n      key: <span class=\"hljs-literal\">it</span>.id\n  ]\n\nel = ContactList contacts: [\n  * id: <span class=\"hljs-number\">1</span>\n    name: <span class=\"hljs-string\">&#x27;Harry Potter&#x27;</span>\n    avatar: <span class=\"hljs-string\">&#x27;http://cdn.playbuzz.com/cdn/8de88741-d729-4319-aa46-e8a544a20439/f7cade9d-8daf-42b3-8839-3e0e1f3db283.jpeg&#x27;</span>\n  * id: <span class=\"hljs-number\">2</span>,\n    name: <span class=\"hljs-string\">&#x27;Albus Dumbledore&#x27;</span>\n    email: <span class=\"hljs-string\">&#x27;albus@hogwarts.magic&#x27;</span>\n]\nReact.render el, <span class=\"hljs-built_in\">document</span>.get-element-<span class=\"hljs-keyword\">by</span>-id <span class=\"hljs-string\">\\application-container</span>\n</code></pre>\n<p>Libraries like <a href=\"https://github.com/mlmorg/react-hyperscript\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\"><code>react-hyperscript</code></a> may be used to further reduce the dom construction boilerplate :</p>\n<pre><code class=\"hljs livescript\">\n<span class=\"hljs-built_in\">require</span>! &#123; react-hyperscript: h, react: React &#125;\n\nContactAvatar = micro-component -&gt;\n  &#123; contact &#125; = @props\n  <span class=\"hljs-keyword\">if</span> contact.avatar\n  <span class=\"hljs-keyword\">then</span> h <span class=\"hljs-string\">\\img,</span> src: contact.avatar, height: <span class=\"hljs-number\">100</span>, width: <span class=\"hljs-number\">100</span>\n  <span class=\"hljs-keyword\">else</span> h <span class=\"hljs-string\">\\span,</span> <span class=\"hljs-string\">&#x27;N/A&#x27;</span>\n\nContactLabel = micro-component -&gt;\n  &#123; contact &#125; = @props\n  <span class=\"hljs-keyword\">if</span> contact.email\n  <span class=\"hljs-keyword\">then</span> h <span class=\"hljs-string\">\\a,</span> href: <span class=\"hljs-string\">&quot;mailto:<span class=\"hljs-subst\">#&#123;contact.email&#125;</span>&quot;</span>, contact.name\n  <span class=\"hljs-keyword\">else</span> h <span class=\"hljs-string\">\\span,</span> contact.name\n\nContactListRow = micro-component -&gt;\n  h <span class=\"hljs-string\">\\tr,</span> key: @props.contact.id, [\n    h <span class=\"hljs-string\">\\td,</span> ContactAvatar @props\n    h <span class=\"hljs-string\">\\td,</span> ContactLabel @props\n  ]\n\nContactList = micro-component -&gt;\n  h <span class=\"hljs-string\">\\table.contacts,</span> [\n    h <span class=\"hljs-string\">\\thead,</span> [\n      h <span class=\"hljs-string\">\\tr,</span> [\n        h <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-string\">&#x27;Avatar&#x27;</span>\n        h <span class=\"hljs-string\">\\th,</span> <span class=\"hljs-string\">&#x27;Name&#x27;</span>\n      ]\n    ]\n    h <span class=\"hljs-string\">\\tbody,</span> @props.contacts.<span class=\"hljs-keyword\">map</span> -&gt; ContactListRow <span class=\"hljs-keyword\">do</span>\n      contact: <span class=\"hljs-literal\">it</span>\n      key: <span class=\"hljs-literal\">it</span>.id\n  ]\n\nel = ContactList contacts: [\n  * id: <span class=\"hljs-number\">1</span>\n    name: <span class=\"hljs-string\">&#x27;Harry Potter&#x27;</span>\n    avatar: <span class=\"hljs-string\">&#x27;http://cdn.playbuzz.com/cdn/8de88741-d729-4319-aa46-e8a544a20439/f7cade9d-8daf-42b3-8839-3e0e1f3db283.jpeg&#x27;</span>\n  * id: <span class=\"hljs-number\">2</span>,\n    name: <span class=\"hljs-string\">&#x27;Albus Dumbledore&#x27;</span>\n    email: <span class=\"hljs-string\">&#x27;albus@hogwarts.magic&#x27;</span>\n]\nReact.render el, <span class=\"hljs-built_in\">document</span>.get-element-<span class=\"hljs-keyword\">by</span>-id <span class=\"hljs-string\">\\application-container</span>\n</code></pre>\n<p>Apart from getting rid of null for attribute hashes, hyperscript is particularly useful for shorter syntax for class names and ids. Also it insulates our codebase against changes in the DOM builder API, which have happened in past.</p>\n",
            "tags": [
                "Javascript",
                "React",
                "Functional Programming"
            ]
        }
    ]
}