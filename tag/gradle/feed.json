{
    "version": "https://jsonfeed.org/version/1",
    "title": "Icicles of Thought â€¢ All posts by \"gradle\" tag",
    "description": "",
    "home_page_url": "https://lorefnon.me",
    "items": [
        {
            "id": "https://lorefnon.me/2021/09/01/configuring-liquibase-with-gradle-kotlin-dsl/",
            "url": "https://lorefnon.me/2021/09/01/configuring-liquibase-with-gradle-kotlin-dsl/",
            "title": "Configuring Liquibase through Gradle Kotlin DSL",
            "date_published": "2021-09-01T00:00:00.000Z",
            "content_html": "<p>This post is a minimal recipe for configuring Liquibase runner through the Gradle kotlin DSL. This is mostly ported from the offical examples <a href=\"https://github.com/liquibase/liquibase-gradle-plugin#usage\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">here</a> written using the Gradle&#39;s Groovy DSL: </p>\n<p>We can specify our database properties in gradle.properties:</p>\n<pre><code class=\"hljs plain\">db_url&#x3D;jdbc:mysql:&#x2F;&#x2F;172.17.0.2:3306&#x2F;oms_dev\ndb_user&#x3D;root\ndb_password&#x3D;rootroot</code></pre>\n<p>And use them in our build.gradle.kts:</p>\n<pre><code class=\"hljs kotlin\">version = <span class=\"hljs-string\">&quot;1.0-SNAPSHOT&quot;</span>\n\nrepositories &#123;\n    mavenCentral()\n    jcenter()\n&#125;\n\nplugins &#123;\n    kotlin(<span class=\"hljs-string\">&quot;jvm&quot;</span>) version <span class=\"hljs-string\">&quot;1.5.21&quot;</span>\n    id(<span class=\"hljs-string\">&quot;org.liquibase.gradle&quot;</span>) version <span class=\"hljs-string\">&quot;2.0.3&quot;</span>\n&#125;\n\n<span class=\"hljs-comment\">// Liquibase plugin configuration</span>\nliquibase &#123;\n    activities.register(<span class=\"hljs-string\">&quot;main&quot;</span>) &#123;\n        <span class=\"hljs-keyword\">val</span> db_url <span class=\"hljs-keyword\">by</span> project.extra.properties\n        <span class=\"hljs-keyword\">val</span> db_user <span class=\"hljs-keyword\">by</span> project.extra.properties\n        <span class=\"hljs-keyword\">val</span> db_password <span class=\"hljs-keyword\">by</span> project.extra.properties\n\n        <span class=\"hljs-keyword\">this</span>.arguments = mapOf(\n            <span class=\"hljs-string\">&quot;logLevel&quot;</span> to <span class=\"hljs-string\">&quot;info&quot;</span>,\n            <span class=\"hljs-string\">&quot;changeLogFile&quot;</span> to <span class=\"hljs-string\">&quot;src/main/resources/db/changelog.yml&quot;</span>,\n            <span class=\"hljs-string\">&quot;url&quot;</span> to db_url,\n            <span class=\"hljs-string\">&quot;username&quot;</span> to db_user,\n            <span class=\"hljs-string\">&quot;password&quot;</span> to db_password,\n            <span class=\"hljs-string\">&quot;driver&quot;</span> to <span class=\"hljs-string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>\n        )\n    &#125;\n    runList = <span class=\"hljs-string\">&quot;main&quot;</span>\n&#125;\n\ndependencies &#123;\n    <span class=\"hljs-comment\">// Include database drivers to be used by liquibase</span>\n    liquibaseRuntime(<span class=\"hljs-string\">&quot;mysql:mysql-connector-java:8.0.26&quot;</span>)\n    liquibaseRuntime(<span class=\"hljs-string\">&quot;org.liquibase:liquibase-core:4.4.3&quot;</span>)\n    liquibaseRuntime(<span class=\"hljs-string\">&quot;org.yaml:snakeyaml:1.29&quot;</span>)\n&#125;</code></pre>",
            "tags": [
                "Kotlin",
                "Liquibase",
                "Gradle"
            ]
        }
    ]
}