{
    "version": "https://jsonfeed.org/version/1",
    "title": "Icicles of Thought • All posts by \"vim\" tag",
    "description": "",
    "home_page_url": "https://lorefnon.me",
    "items": [
        {
            "id": "https://lorefnon.me/2022/01/29/hiding-jsx-closing-tag-noise-in-vim/",
            "url": "https://lorefnon.me/2022/01/29/hiding-jsx-closing-tag-noise-in-vim/",
            "title": "Hiding JSX closing tag noise in vim through conceal",
            "date_published": "2022-01-29T00:00:00.000Z",
            "content_html": "<p>Thanks to popularity of React and other frameworks that have partly embraced its idioms, the verbose JSX syntax extension to javascript remains quite popular in 2022, despite the declining popularity of XML in the industry at large.</p>\n<p>While alternatives exist, in most existing projects one can expect to find JSX in use, and alternatives usually don&#39;t have as great support from typescript, which has first class support for JSX.</p>\n<p>Here is a simple tip that makes code using JSX easier to quickly scan through in vim by getting rid of the closing tag noise at editor level. While the tags still exist in the source code we simply collapse them in the editor. Any project level or source level changes are thus not needed.</p>\n<p>The end result looks like this:</p>\n<p><img src=\"/images/collapsed-end-tags.png\" alt=\"Collapsed end tags\" loading=\"lazy\"></p>\n<p>This is achieved by utilizing the <a href=\"https://vimhelp.org/syntax.txt.html#conceal\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">conceal feature</a> of vim. While the configuration here has only been tested in neovim, it should work on vanilla vim as well.</p>\n<p>To achieve the above, we can add the following to <code>~/.config/nvim/after/syntax/typescriptreact.vim</code>:</p>\n<pre><code class=\"hljs plaintext\">if exists(&#x27;g:no_vim_conceal&#x27;) || !has(&#x27;conceal&#x27;) || &amp;enc != &#x27;utf-8&#x27;\n  finish\nendif\n\nsyntax match tsxCloseTag &quot;&lt;/.*&gt;&quot; conceal cchar=◆\nsetlocal conceallevel=1</code></pre>\n\n<p>Now any text matching <code>&lt;/.*&gt;</code> will be concealed and a diamond symbol be shown instead. However if we put the cursor on the specific line, we&#39;ll see the actual source.</p>\n<p>If you need more info about the <code>after</code> directory in vim (as used above) this <a href=\"https://vimhelp.org/options.txt.html#after%2ddirectory\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">vimhelp topic</a> and this <a href=\"https://vi.stackexchange.com/questions/4975/how-can-i-add-additional-syntax-highlighting-rules-in-my-local-vimrc\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">stackexchange thread</a> are good resources.</p>\n<p>If you are wondering how to identify the tag name for other syntax forms eg. the <code>function</code> keyword, this <a href=\"https://github.com/gerw/vim-HiLinkTrace\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">vim plugin</a> can provide you the complete trace of syntax highlight.</p>\n<p>In my setup, <code>:HLT</code> gives me the following trace for a closing tag:</p>\n<pre><code class=\"hljs plaintext\">typescriptBlock-&gt;typescriptParenExp-&gt;tsxRegion-&gt;tsxRegion-&gt;tsxRegion-&gt;tsxRegion-&gt;tsxRegion-&gt;tsxRegion-&gt;tsxCloseTag  HltTrace: tsxCloseTag-&gt;htmlTag-&gt;GruvboxBlue   fg&lt;109&gt; bg&lt;&gt;</code></pre>\n",
            "tags": [
                "vim"
            ]
        }
    ]
}