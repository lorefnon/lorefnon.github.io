<!DOCTYPE html><html class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/blog.css"><title>Lorefnon | Blog | Hash based routing with react-navi</title><meta property="og:title" content="Lorefnon | Blog | Hash based routing with react-navi"><meta property="og:description" content="Ramblings on Web Development and software architecture"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="icon" href="/images/favicon/favicon.ico"><script data-goatcounter="https://analytics.lorefnon.com/count" async src="https://analytics.lorefnon.com/count.js"></script><script src="https://unpkg.com/htmx.org@1.7.0/dist/htmx.min.js" defer></script><script src="https://unpkg.com/dompurify@2.3.6/dist/purify.min.js" defer></script><script src="/js/blog.js" defer></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Icicles of Thought" type="application/atom+xml">
</head><body class="blog-body" hx-boost="true"><div class="blog-summary"><a class="primary-link" href="/" hx-boost="false"><h1 class="header-text">Gaurab Paul</h1><h2 class="header-text">Polyglot software developer &amp; consultant passionate about web development, distributed systems and open source technologies</h2></a><div class="blog-support"><div class="blog-support-cta-container"><a class="blog-support-btn" href="https://ko-fi.com/lorefnon" target="_blank" title="Support my work"></a></div></div></div><div class="blog-sidebar"><div class="blog-support"><div class="blog-support-cta-container"><a class="blog-support-btn" href="https://ko-fi.com/lorefnon" target="_blank" title="Support my work"></a><div class="blog-support-arrow"></div><p class="support-text body-text">Support my blog and open-source work</p></div></div><h1 class="header-text">Tags</h1><ul class="tag-list"><li class="body-text"><a class="tag-link" href="/tags/React/"><img src="/images/tag.svg">React</a></li><li class="body-text"><a class="tag-link" href="/tags/Routing/"><img src="/images/tag.svg">Routing</a></li></ul></div><div class="blog-header blog-post-header"><div class="blog-post-header-inner"><div class="header-text">Hash based routing with react-navi</div><div class="posted-date sub-header-text" title="2020-04-16">Posted &nbsp;3 years ago</div><hr class="blog-header-separator"></div></div><div class="blog-main"><div class="page-content"><link rel="stylesheet" href="/css/crayon.min.css" >
<link rel="stylesheet" href="/css/crayon-flatui-light.css" >



	<p><a class="wp-editor-md-post-content-link" target="_blank" rel="noopener" href="https://frontarm.com/navi/">Navi</a> is an simple and easy-to-use routing solution for React with good support for <a class="wp-editor-md-post-content-link" target="_blank" rel="noopener" href="https://reactjs.org/docs/concurrent-mode-suspense.html">suspense</a> and asynchronous data-fetching.</p>
<p>I generally prefer hash-based routing over push state based routing because it doesnâ€™t require any special handling on the server side and works well even with file urls &amp; electron apps. Also, working mostly with intranet applications, SEO is generally not a concern for me.</p>
<p><span id="more-687"></span></p>
<p>Thanks to the underlying history library, it is relatively straightforward to use hash-routing with react-navi:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5fba44573abf6514361846" class="crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums" data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5fba44573abf6514361846-1">1</div><div class="crayon-num" data-line="crayon-5fba44573abf6514361846-2">2</div><div class="crayon-num" data-line="crayon-5fba44573abf6514361846-3">3</div><div class="crayon-num" data-line="crayon-5fba44573abf6514361846-4">4</div><div class="crayon-num" data-line="crayon-5fba44573abf6514361846-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5fba44573abf6514361846-1">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573abf6514361846-2"><span class="crayon-e">import</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">createHashHistory</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-s">'history'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573abf6514361846-3">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573abf6514361846-4"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-r">history</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">createHashHistory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573abf6514361846-5">&nbsp;</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p></p>
<p>As the <a class="wp-editor-md-post-content-link" target="_blank" rel="noopener" href="https://frontarm.com/navi/en/#try-a-live-example">example</a> in the home page illustrates, we can pass our routes to the <code>mount</code> function:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5fba44573ac0a238133453" class="crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums" data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-1">1</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-2">2</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-3">3</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-4">4</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-5">5</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-6">6</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-7">7</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-8">8</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-9">9</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-10">10</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-11">11</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-12">12</div><div class="crayon-num" data-line="crayon-5fba44573ac0a238133453-13">13</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5fba44573ac0a238133453-1">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-2"><span class="crayon-e">import</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">mount</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-s">'navi'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-3">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-4"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">mount</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'/'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hats 'n' Flamethrowers 'r' Us"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">getData</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-e">fetchProducts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">view</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-v">Landing</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'/product'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">lazy</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">import</span><span class="crayon-sy">(</span><span class="crayon-s">'./product'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5fba44573ac0a238133453-13">&nbsp;</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p></p>
<p>However instead of passing these routes directly to the <code>&lt;Router&gt;</code> component, weâ€™d need to create a navigation that is configured to use our hash-based history.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5fba44573ac11804906234" class="crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums" data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-1">1</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-2">2</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-3">3</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-4">4</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-5">5</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-6">6</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-7">7</div><div class="crayon-num" data-line="crayon-5fba44573ac11804906234-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5fba44573ac11804906234-1">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac11804906234-2"><span class="crayon-e">import</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">createBrowserNavigation</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-s">'navi'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573ac11804906234-3">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac11804906234-4"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">navigation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">createBrowserNavigation</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5fba44573ac11804906234-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">history</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac11804906234-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">routes</span></div><div class="crayon-line" id="crayon-5fba44573ac11804906234-7"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573ac11804906234-8">&nbsp;</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>And then we can render the Router with this navigation:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5fba44573ac17552680781" class="crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums" data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 15px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-1">1</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-2">2</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-3">3</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-4">4</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-5">5</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-6">6</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-7">7</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-8">8</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-9">9</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-10">10</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-11">11</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-12">12</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-13">13</div><div class="crayon-num" data-line="crayon-5fba44573ac17552680781-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5fba44573ac17552680781-1">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac17552680781-2"><span class="crayon-e">import</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">Router</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">View</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-s">'react-navi'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-3">&nbsp;</div><div class="crayon-line" id="crayon-5fba44573ac17552680781-4"><span class="crayon-v">ReactDOM</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Router </span><span class="crayon-v">navigation</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-v">navigation</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">Layout</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">Suspense </span><span class="crayon-v">fallback</span><span class="crayon-o">=</span><span class="crayon-sy">{</span><span class="crayon-t">null</span><span class="crayon-sy">}</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">View</span><span class="crayon-h"> </span><span class="crayon-c">/&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-9"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/S</span><span class="crayon-v">uspense</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">Layout</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">Router</span><span class="crayon-o">&gt;</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">document</span><span class="crayon-sy">.</span><span class="crayon-e">getElementById</span><span class="crayon-sy">(</span><span class="crayon-s">'root'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-13"><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5fba44573ac17552680781-14">&nbsp;</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p></p>
<p>That is pretty much all thatâ€™s needed</p>


    </div><div class="post-comments"><!-- .comments-target--></div><div class="post-comments" style="margin-top: 10px;"><div id="remark42"></div></div></div><div class="blog-footer body-text"><p class="copyright-container"><strong>Â© 2022 Gaurab Paul</strong></p><p>Unless otherwise mentioned in specific contexts, all code is licensed under the The MIT License and all content and artwork is licensed under CC BY-NC-SA.</p><p>The opinions expressed herein are author's personal viewpoints and may not be taken as professional recommendations from any of his previous or current employers.</p></div></body></html>